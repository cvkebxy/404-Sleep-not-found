/* Панель доступности */
.accessibility-panel {
    position: fixed;
    top: 0;
    right: -400px;
    width: 380px;
    height: 100vh;
    background: white;
    box-shadow: -5px 0 25px rgba(0, 0, 0, 0.2);
    z-index: 2000;
    transition: right 0.3s ease;
    overflow-y: auto;
    padding: 20px;
}

.accessibility-panel.show {
    right: 0;
}

.accessibility-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 2px solid #e2e8f0;
}

.accessibility-header h3 {
    color: #1e293b;
    font-family: 'Nexa', sans-serif;
    font-size: 20px;
}

.close-panel {
    background: none;
    border: none;
    font-size: 28px;
    color: #64748b;
    cursor: pointer;
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-panel:hover {
    color: #1e293b;
}

.accessibility-controls {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.control-group label {
    font-weight: 600;
    color: #1e293b;
    font-family: 'Roboto', sans-serif;
    font-size: 16px;
}

.size-controls,
.spacing-controls,
.font-controls,
.color-schemes {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.size-controls button,
.spacing-controls button,
.font-controls button,
.color-schemes button {
    padding: 10px 16px;
    border: 2px solid #e2e8f0;
    background: white;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Roboto', sans-serif;
    font-size: 14px;
}

.size-controls button:hover,
.spacing-controls button:hover,
.font-controls button:hover,
.color-schemes button:hover {
    border-color: #0047B1;
    background: #f8fafc;
}

.scheme-btn.active {
    border-color: #0047B1;
    background: #0047B1;
    color: white;
}

.reset-btn {
    padding: 12px 24px;
    background: #0047B1;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-family: 'Roboto', sans-serif;
    font-size: 16px;
    font-weight: 600;
    transition: all 0.3s ease;
    margin-top: 16px;
}

.reset-btn:hover {
    background: #003399;
}

/* Стили для версии для слабовидящих - применяются ко всему сайту */
html.accessibility-large-font {
    font-size: 18px;
}

html.accessibility-large-font body,
html.accessibility-large-font .auth-modal,
html.accessibility-large-font .auth-dialog,
html.accessibility-large-font .auth-form {
    font-size: 18px;
}

html.accessibility-larger-font {
    font-size: 20px;
}

html.accessibility-larger-font body,
html.accessibility-larger-font .auth-modal,
html.accessibility-larger-font .auth-dialog,
html.accessibility-larger-font .auth-form {
    font-size: 20px;
}

html.accessibility-high-contrast {
    background: #000 !important;
    color: #fff !important;
}

html.accessibility-high-contrast body,
html.accessibility-high-contrast .auth-modal,
html.accessibility-high-contrast .auth-dialog,
html.accessibility-high-contrast .auth-form {
    background: #000 !important;
    color: #fff !important;
}

html.accessibility-high-contrast .main-content {
    background: #000 !important;
}

html.accessibility-high-contrast .header,
html.accessibility-high-contrast .footer,
html.accessibility-high-contrast .auth-dialog {
    background: #000 !important;
    border-bottom: 2px solid #fff;
}

html.accessibility-high-contrast .nav-link,
html.accessibility-high-contrast .footer-title,
html.accessibility-high-contrast .footer-text,
html.accessibility-high-contrast .footer-links a,
html.accessibility-high-contrast .copyright,
html.accessibility-high-contrast .auth-form h2,
html.accessibility-high-contrast .auth-form h3,
html.accessibility-high-contrast .tab-btn,
html.accessibility-high-contrast .form-group label {
    color: #fff !important;
}

html.accessibility-high-contrast .stat-card,
html.accessibility-high-contrast .step-card,
html.accessibility-high-contrast .map-card,
html.accessibility-high-contrast .auth-dialog {
    background: #333 !important;
    border-color: #fff !important;
}

html.accessibility-high-contrast .search-input-large,
html.accessibility-high-contrast .filter-select,
html.accessibility-high-contrast .auth-form input,
html.accessibility-high-contrast .auth-form textarea,
html.accessibility-high-contrast .auth-form select {
    background: #333 !important;
    border-color: #fff !important;
    color: #fff !important;
}

html.accessibility-high-contrast .search-input-large::placeholder,
html.accessibility-high-contrast .auth-form input::placeholder {
    color: #ccc !important;
}

html.accessibility-dark {
    background: #1a1a1a !important;
    color: #e0e0e0 !important;
}

html.accessibility-dark body,
html.accessibility-dark .auth-modal,
html.accessibility-dark .auth-dialog,
html.accessibility-dark .auth-form {
    background: #1a1a1a !important;
    color: #e0e0e0 !important;
}

html.accessibility-dark .main-content {
    background: #1a1a1a !important;
}

html.accessibility-dark .header,
html.accessibility-dark .footer,
html.accessibility-dark .auth-dialog {
    background: #2d2d2d !important;
}

html.accessibility-dark .nav-link,
html.accessibility-dark .footer-title,
html.accessibility-dark .footer-text,
html.accessibility-dark .footer-links a,
html.accessibility-dark .copyright,
html.accessibility-dark .auth-form h2,
html.accessibility-dark .auth-form h3,
html.accessibility-dark .tab-btn,
html.accessibility-dark .form-group label {
    color: #e0e0e0 !important;
}

html.accessibility-dark .stat-card,
html.accessibility-dark .step-card,
html.accessibility-dark .map-card,
html.accessibility-dark .auth-dialog {
    background: #333 !important;
    border-color: #555 !important;
}

html.accessibility-dark .search-input-large,
html.accessibility-dark .filter-select,
html.accessibility-dark .auth-form input,
html.accessibility-dark .auth-form textarea,
html.accessibility-dark .auth-form select {
    background: #333 !important;
    border-color: #555 !important;
    color: #e0e0e0 !important;
}

html.accessibility-large-line-height body,
html.accessibility-large-line-height .auth-modal,
html.accessibility-large-line-height .auth-dialog,
html.accessibility-large-line-height .auth-form {
    line-height: 1.8;
}

html.accessibility-dyslexic-font body,
html.accessibility-dyslexic-font .auth-modal,
html.accessibility-dyslexic-font .auth-dialog,
html.accessibility-dyslexic-font .auth-form {
    font-family: 'Comic Sans MS', 'Arial', sans-serif;
}

/* Специфические стили для модальных окон в режиме доступности */
html.accessibility-high-contrast .close-dialog,
html.accessibility-dark .close-dialog {
    background: rgba(255, 255, 255, 0.2) !important;
    border-color: rgba(255, 255, 255, 0.4) !important;
    color: #fff !important;
}

html.accessibility-high-contrast .auth-tabs,
html.accessibility-dark .auth-tabs {
    background: rgba(255, 255, 255, 0.1) !important;
    border-bottom-color: rgba(255, 255, 255, 0.3) !important;
}

html.accessibility-high-contrast .tab-btn::after,
html.accessibility-dark .tab-btn::after {
    background: linear-gradient(90deg, #6CACE4, #315194) !important;
}

/* Стили для пагинации в режимах доступности */
html.accessibility-high-contrast .pagination-btn,
html.accessibility-dark .pagination-btn {
    border-color: rgba(255, 255, 255, 0.5);
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

html.accessibility-high-contrast .pagination-btn:hover,
html.accessibility-dark .pagination-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.7);
}

html.accessibility-high-contrast .pagination-btn.active,
html.accessibility-dark .pagination-btn.active {
    background: #4A90E2;
    border-color: #4A90E2;
    color: white;
}

html.accessibility-high-contrast .prev-btn,
html.accessibility-high-contrast .next-btn,
html.accessibility-dark .prev-btn,
html.accessibility-dark .next-btn {
    border-color: rgba(255, 255, 255, 0.5);
    color: white;
}

html.accessibility-high-contrast .prev-btn:hover,
html.accessibility-high-contrast .next-btn:hover,
html.accessibility-dark .prev-btn:hover,
html.accessibility-dark .next-btn:hover {
    border-color: #4A90E2;
    color: #4A90E2;
}

/* Улучшения для больших шрифтов в пагинации */
html.accessibility-large-font .pagination-btn,
html.accessibility-larger-font .pagination-btn {
    padding: 10px 18px;
    font-size: 16px;
    min-width: 44px;
}

html.accessibility-large-font .prev-btn,
html.accessibility-large-font .next-btn,
html.accessibility-larger-font .prev-btn,
html.accessibility-larger-font .next-btn {
    padding: 10px 20px;
    font-size: 18px;
}

/* Дополнительные стили для доступности */
html.accessibility-large-font,
html.accessibility-large-font body {
    font-size: 18px !important;
}

html.accessibility-larger-font,
html.accessibility-larger-font body {
    font-size: 20px !important;
}

html.accessibility-large-line-height,
html.accessibility-large-line-height body {
    line-height: 1.8 !important;
}

html.accessibility-dyslexic-font,
html.accessibility-dyslexic-font body {
    font-family: 'Comic Sans MS', 'Arial', sans-serif !important;
}

/* Принудительное применение ко всем элементам */
.accessibility-large-font * {
    font-size: inherit !important;
}

.accessibility-larger-font * {
    font-size: inherit !important;
}

.accessibility-large-line-height * {
    line-height: inherit !important;
}

.accessibility-dyslexic-font * {
    font-family: inherit !important;
}

/* Стили для активных кнопок */
.size-controls button.active,
.spacing-controls button.active,
.font-controls button.active {
    border-color: #0047B1 !important;
    background: #0047B1 !important;
    color: white !important;
}

/* Улучшения для кнопок доступности в хедере и футере */
.accessibility-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    border-radius: 6px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.accessibility-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

.footer-accessibility-btn {
    background: none;
    border: none;
    color: inherit;
    cursor: pointer;
    padding: 0;
    text-align: left;
    font-family: inherit;
    font-size: inherit;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: opacity 0.3s ease;
}

.footer-accessibility-btn:hover {
    opacity: 0.8;
}

/* Анимация для панели доступности */
.accessibility-panel {
    transition: right 0.3s ease;
}

/* Улучшения для мобильных устройств */
@media (max-width: 768px) {
    .accessibility-panel {
        width: 100%;
        right: -100%;
    }
    
    .accessibility-controls {
        gap: 16px;
    }
    
    .control-group {
        gap: 8px;
    }
}